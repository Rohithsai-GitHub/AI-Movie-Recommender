<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ movie['title'] }} - Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container my-4">
        <h1>{{ movie['title'] }}</h1>
        <p><strong>Genres:</strong> {{ movie['genres'] }}</p>

        {% if video_filename %}
            <h2>Watch Now</h2>
            <div class="mb-4">
                <video width="640" height="360" controls>
                    <source src="{{ url_for('video', filename=video_filename) }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        {% else %}
            <p>Video not available for streaming yet.</p>
        {% endif %}

        <h2>Recommended Movies</h2>
        <div class="list-group mb-4">
            {% for rec in recommendations %}
                <a href="{{ url_for('movie_detail', movie_id=rec['movieId']) }}" class="list-group-item list-group-item-action">
                    {{ rec['title'] }}
                </a>
            {% endfor %}
        </div>
        
        <a href="{{ url_for('index') }}" class="btn btn-secondary">Back to Home</a>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
